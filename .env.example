# ============================================
# TaxBracket — Environment Variables
# Copy this file to .env and fill in the values
# ============================================

# ---- Database (Required) ----
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/taxbracket

# ---- Session (Required) ----
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your-secure-random-secret-min-32-chars

# ---- OpenAI (Required) ----
OPENAI_API_KEY=sk-...

# ---- Cloudflare R2 / S3 File Storage (Required) ----
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_ACCESS_KEY=your-access-key
CLOUDFLARE_SECRET_ACCESS_KEY=your-secret-access-key
CLOUDFLARE_BUCKET_DOMAIN=https://pub-xxx.r2.dev
S3_BUCKET_NAME=taxbracket-uploads

# ---- Google OAuth (Required) ----
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# ---- Redis (Optional — for future caching) ----
# App works normally without Redis; caching is skipped gracefully.
# REDIS_URL=redis://localhost:6379

# ---- Site Configuration (Optional) ----
# SITE_URL=https://taxbracketai.com

# ---- Credit System (Optional) ----
# Default weekly credit limit for users
CREDITS_WEEKLY_LIMIT=1000

# Credit-to-token conversion rate
# 0.1 = 10 tokens per credit = 10,000 tokens per 1000 credits
CREDITS_PER_TOKEN=0.1

# Price per 1000 credits (USD) - for future purchase system
CREDIT_PRICE_PER_1000=1.00

# Credits per dollar - for purchase calculations
CREDITS_PER_DOLLAR=1000

# ---- Feature Flags (Optional) ----
# Beta mode enables weekly credit resets
# BETA_MODE=true
# Enable credit purchase via Polar
# CREDIT_PURCHASE_ENABLED=false

# ---- Polar Payment Integration (Required for credit purchases) ----
# Get your access token from: https://polar.sh/settings/tokens
# POLAR_ACCESS_TOKEN=your-polar-access-token

# Webhook secret for verifying Polar webhooks
# Generate in Polar dashboard: Settings > Webhooks
# POLAR_WEBHOOK_SECRET=your-webhook-secret

# The product ID for your "Pay What You Want" credits product
# Create in Polar dashboard: Products > New Product > Pay What You Want
# POLAR_CREDITS_PRODUCT_ID=your-product-id

# Polar environment: 'sandbox' for testing, 'production' for live
# POLAR_MODE=sandbox

# ---- Runtime (Auto-set by platforms) ----
# NODE_ENV=production
# PORT=3000
